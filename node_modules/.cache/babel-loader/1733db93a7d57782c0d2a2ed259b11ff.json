{"ast":null,"code":"import _slicedToArray from\"/home/lancelot/reactProject/singulart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Container,Form,FormButton,FormContent,FormH1,FormLabel,FormWrap,Icon,FormInput,Text}from'../Signin/SigninElements';import{projectAuth,projectFirestore}from'../../firebase/config';import{useState}from'react';import{Redirect}from'react-router-dom';var Signup=function Signup(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),contact=_useState8[0],setContact=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),redirect=_useState10[0],setRedirect=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var afterSubmit=function afterSubmit(){alert('Account Successfully Created.');setRedirect('/');};var formSubmit=function formSubmit(e,email,password){e.preventDefault();return projectAuth.createUserWithEmailAndPassword(email,password).then(function(cred){console.log(cred);return projectFirestore.collection('users').doc(cred.user.email).set({id:cred.user.uid,email:email,contact:contact,username:username});}).then(function(){setEmail('');setPassword('');setUsername('');setContact('');setError(null);afterSubmit();}).catch(function(err){setError(err.message);});};var onChangeHandler=function onChangeHandler(e){var _e$currentTarget=e.currentTarget,name=_e$currentTarget.name,value=_e$currentTarget.value;if(name==='username'){setUsername(value);}else if(name==='email'){setEmail(value);}else if(name==='contact'){setContact(value);}else if(name==='password'){setPassword(value);}};if(redirect){return/*#__PURE__*/React.createElement(Redirect,{to:redirect});}return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(FormWrap,null,/*#__PURE__*/React.createElement(Icon,{to:\"/\"},\"Singulart\"),/*#__PURE__*/React.createElement(FormContent,null,/*#__PURE__*/React.createElement(Form,{onSubmit:function onSubmit(e){return formSubmit(e,email,password);}},/*#__PURE__*/React.createElement(FormH1,null,\"Sign up to your account.\"),/*#__PURE__*/React.createElement(FormLabel,{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(FormInput,{name:\"username\",value:username,type:\"text\",onChange:function onChange(e){return onChangeHandler(e);},required:true}),/*#__PURE__*/React.createElement(FormLabel,{htmlFor:\"contact\"},\"Contact Number\"),/*#__PURE__*/React.createElement(FormInput,{name:\"contact\",value:contact,type:\"tel\",pattern:\"[0-9]{10}\",onChange:function onChange(e){return onChangeHandler(e);},required:true}),/*#__PURE__*/React.createElement(FormLabel,{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(FormInput,{name:\"email\",value:email,type:\"email\",onChange:function onChange(e){return onChangeHandler(e);},required:true}),/*#__PURE__*/React.createElement(FormLabel,{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(FormInput,{name:\"password\",value:password,type:\"password\",onChange:function onChange(e){return onChangeHandler(e);},required:true}),/*#__PURE__*/React.createElement(FormButton,{type:\"submit\"},\"Continue\"),error&&/*#__PURE__*/React.createElement(Text,null,\" \",error,\" \")))));};export default Signup;","map":{"version":3,"sources":["/home/lancelot/reactProject/singulart/src/components/Signup/index.js"],"names":["React","Container","Form","FormButton","FormContent","FormH1","FormLabel","FormWrap","Icon","FormInput","Text","projectAuth","projectFirestore","useState","Redirect","Signup","username","setUsername","email","setEmail","password","setPassword","contact","setContact","redirect","setRedirect","error","setError","afterSubmit","alert","formSubmit","e","preventDefault","createUserWithEmailAndPassword","then","cred","console","log","collection","doc","user","set","id","uid","catch","err","message","onChangeHandler","currentTarget","name","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Container,\n  Form,\n  FormButton,\n  FormContent,\n  FormH1,\n  FormLabel,\n  FormWrap,\n  Icon,\n  FormInput,\n  Text\n} from '../Signin/SigninElements';\n\nimport {projectAuth, projectFirestore} from '../../firebase/config'\nimport { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nconst Signup = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [contact, setContact] = useState('');\n  const [redirect, setRedirect] = useState(null)\n  const [error, setError] = useState(null)\n  \n  const afterSubmit = () => {\n    alert('Account Successfully Created.')\n    setRedirect('/')\n  }\n\n\n  const formSubmit = (e, email, password) => {\n    e.preventDefault();\n    return projectAuth.createUserWithEmailAndPassword(email, password).then(cred => {\n      console.log(cred);\n      return projectFirestore.collection('users').doc(cred.user.email).set({\n        id: cred.user.uid,\n        email: email,\n        contact: contact,\n        username: username\n      })\n    }).then(() => {\n      setEmail('');\n      setPassword('');\n      setUsername('');\n      setContact('');\n      setError(null);\n      afterSubmit()\n    }).catch(err => {\n      setError(err.message);\n    });\n  };\n\n  const onChangeHandler = (e) => {\n    const { name, value } = e.currentTarget;\n    if (name === 'username') {\n      setUsername(value);\n    } else if (name === 'email') {\n      setEmail(value);\n    } else if (name === 'contact') {\n      setContact(value);\n    } else if (name === 'password') {\n      setPassword(value);\n    }\n  };\n\n  if (redirect) {\n    return(\n    <Redirect to = {redirect} />\n    )\n  }\n\n  return (\n    <Container>\n      <FormWrap>\n        <Icon to='/'>Singulart</Icon>\n        <FormContent>\n          <Form onSubmit={(e) => formSubmit(e,email,password)}>\n            <FormH1>Sign up to your account.</FormH1>\n            <FormLabel htmlFor='username'>Username</FormLabel>\n            <FormInput name='username' value={username} type='text' onChange={(e) => onChangeHandler(e)} required />\n            <FormLabel htmlFor='contact'>Contact Number</FormLabel>\n            <FormInput name='contact' value={contact} type='tel' pattern='[0-9]{10}' onChange={(e) => onChangeHandler(e)} required />\n            <FormLabel htmlFor='email'>Email</FormLabel>\n            <FormInput name='email' value={email} type='email' onChange={(e) => onChangeHandler(e)} required />\n            <FormLabel htmlFor='password'>Password</FormLabel>\n            <FormInput name='password' value={password} type='password' onChange={(e) => onChangeHandler(e)} required />\n            <FormButton type='submit'>Continue</FormButton>\n            {error && <Text> {error} </Text>}\n          </Form>\n        </FormContent>\n      </FormWrap>\n    </Container>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}